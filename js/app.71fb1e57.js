(function(t){function e(e){for(var i,s,r=e[0],c=e[1],u=e[2],p=0,d=[];p<r.length;p++)s=r[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-disjoint/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"263c":function(t,e,n){"use strict";n("2764")},2764:function(t,e,n){},"3e87":function(t,e,n){},"52e7":function(t){t.exports=JSON.parse('{"1":"120;100","2":"258;149","3":"490;122","4":"10;155","5":"309;58","6":"288;170","7":"267;91","8":"401;84","9":"68;180","10":"39;383","11":"150;404","12":"280;330","13":"199;60","14":"180;300","15":"222;127","16":"249;490","17":"181;356","18":"366;190","19":"500;339","20":"259;13"}')},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container"},[n("cInterface",{attrs:{points:t.coords},on:{"create-disjoint":t.createDisjoint}}),n("div",{staticClass:"chart container__chart",style:t.styleChart},[t._l(t.segments,(function(e,i){return n("c-segment",{key:"segment"+i,attrs:{max:t.maxPoint,scale:t.scale,segment:e}})})),t._l(t.points,(function(e,i){return n("c-point",{key:"point"+i,attrs:{max:t.maxPoint,scale:t.scale,point:e,keyPoint:e.keyPoint}})}))],2)],1)])},a=[],s=n("ade3"),r=n("3835"),c=n("2909"),u=(n("0481"),n("d81d"),n("07ac"),n("4fad"),n("fb6a"),n("b64b"),n("ac1f"),n("1276"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"point chart__point",style:t.setStyleNumberPoint},[t._v(" "+t._s(t.keyPoint)+" ("+t._s(t.points)+") ")])}),l=[],p=(n("a9e3"),n("99af"),{name:"cPoint",props:{point:{type:Object,default:function(){return{}}},keyPoint:{type:[Number,String],default:0},max:{type:Number,default:0},scale:{type:Number,default:0}},computed:{setStyleNumberPoint:function(){var t=this.point,e=t.x,n=t.y;return{left:"".concat(this.scalable(e)+15,"px"),top:"".concat(this.scalable(n)-15,"px")}},points:function(){var t=this.point,e=t.x,n=t.y;return"".concat(e,", ").concat(n)}},methods:{scalable:function(t){return t*this.scale/this.max}}}),d=p,f=(n("6496"),n("2877")),b=Object(f["a"])(d,u,l,!1,null,null,null),h=b.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"segment chart__segment",style:t.draw})},v=[],y=(n("b680"),{name:"cSegment",props:{segment:{type:Array,default:function(){return[]}},max:{type:Number,default:0},scale:{type:Number,default:0}},data:function(){return{}},computed:{draw:function(){var t=.0015*this.max,e=0,n=0,i=0,o=0,a=Object(r["a"])(this.segment,2),s=a[0],c=s.x,u=s.y,l=a[1],p=l.x,d=l.y,f=+(180/Math.PI*Math.atan2(d-u,p-c)).toFixed(0);return f?(e=c-t,n=p-t,/-/.test(String(f))?f<-90?(i=u+t,o=d+t):f>-90?(i=u-t,o=d-t):(i=u,o=d):f<90?(i=u+t,o=d+t):f>90?(i=u-t,o=d-t):(i=u,o=d)):(e=c,n=p,i=u+t,o=d+t),{clipPath:"polygon(\n\t\t\t\t\tcalc(".concat(this.scalable(c),"px) calc(").concat(this.scalable(u),"px),\n\t\t\t\t\tcalc(").concat(this.scalable(e),"px) calc(").concat(this.scalable(i),"px),\n\t\t\t\t\tcalc(").concat(this.scalable(n),"px) calc(").concat(this.scalable(o),"px),\n\t\t\t\t\tcalc(").concat(this.scalable(p),"px) calc(").concat(this.scalable(d),"px)\n\t\t\t\t)"),backgroundColor:"green"}}},methods:{scalable:function(t){return t*this.scale/this.max}}}),_=y,g=(n("c76f"),Object(f["a"])(_,m,v,!1,null,null,null)),j=g.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interface container__interface"},[n("c-warning",{attrs:{isError:t.isDoubleCoords||t.isLimitValue},on:{"close-warning":t.closeWarinig}},[t._v(" "+t._s(t.warning)+" ")]),n("div",{staticClass:"container-buttons"},[n("transition",{attrs:{name:"btn"}},[t.isCoords?t._e():n("button",{staticClass:"btn btn--entry container-buttons__btn",on:{click:t.addCoords}},[t._v(" Входные данные ")])]),n("transition",{attrs:{name:"btn"}},[t.isCoords?n("button",{staticClass:"btn btn--all-del container-buttons__btn",on:{click:t.deleteField}},[t._v(" Удалить все ")]):t._e()])],1),n("div",{staticClass:"container-points"},[n("transition-group",{attrs:{name:"points",tag:"div"}},t._l(t.coords,(function(e,i){return n("div",{key:"point-"+i,staticClass:"list-points",on:{input:function(e){return t.inputValue(e,i)},click:function(e){return t.updatePrevValue(e)}}},[n("span",{staticClass:"item-key-point container-points__item-key-point"},[t._v(t._s(i))]),n("div",{staticClass:"item-point"},[n("span",{staticClass:"type-point item-point__type-point"},[t._v("x:")]),n("input",{staticClass:"input-point item-point__input-point",class:{"input-point--double":t.isDoubleCoords&&t.doubleCoords.includes(i)||t.isLimitValue&&t.limitKeyPoint===i&&"x"===t.limitTypePoint},attrs:{type:"text","data-type":"x"},domProps:{value:e.x}}),n("span",{staticClass:"type-point item-point__type-point"},[t._v("y:")]),n("input",{staticClass:"input-point item-point__input-point",class:{"input-point--double":t.isDoubleCoords&&t.doubleCoords.includes(i)||t.isLimitValue&&t.limitKeyPoint===i&&"y"===t.limitTypePoint},attrs:{type:"text","data-type":"y"},domProps:{value:e.y}}),n("button",{staticClass:"btn-clear input-point__btn-clear",attrs:{title:"Удалить"},on:{click:function(e){return t.deteleValue(i)}}})])])})),0)],1),n("transition",{attrs:{name:"btn"}},[t.isCoords?n("div",{staticClass:"container-buttons"},[n("button",{staticClass:"btn btn--add container-buttons__btn",on:{click:t.addCoords}},[t._v(" Добавить точку ")]),n("transition",{attrs:{name:"btn"}},[t.isCoords>1?n("button",{staticClass:"btn btn--process container-buttons__btn",on:{click:t.updateValue}},[t._v(" Обработать ")]):t._e()])],1):t._e()])],1)},O=[],C=(n("5319"),n("4de4"),n("a15b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isError?n("transition",{attrs:{name:"warning"}},[n("div",{staticClass:"warning"},[t._t("default")],2)]):t._e()}),P=[],w={name:"cWarning",props:{isError:{type:Boolean,default:!1}},data:function(){return{id:null}},watch:{isError:function(){var t=this;clearTimeout(this.id),this.id=setTimeout((function(){t.$emit("close-warning")}),2e3)}}},k=w,V=(n("daaf"),Object(f["a"])(k,C,P,!1,null,null,null)),S=V.exports,$={name:"cInterface",components:{cWarning:S},props:{points:{type:Array,default:function(){return{}}}},data:function(){return{coords:{},prevValue:null,doubleCoords:[],isDoubleCoords:!1,isLimitValue:!1,limitTypePoint:"",limitValue:0,warning:""}},computed:{isCoords:function(){return Object.keys(this.coords).length}},methods:{addCoords:function(){var t=Object.keys(this.coords).length?Math.max.apply(Math,Object(c["a"])(Object.keys(this.coords)))+1:1;this.$set(this.coords,t,{x:0,y:0})},inputValue:function(t,e){var n=t.target,i=t.target.dataset.type;if(n.value.length>3)return n.value=this.prevValue,this.isLimitValue=!0,this.limitKeyPoint=e,void(this.limitTypePoint=i);n.value=this.prevValue=n.value.replace(/[^\d]/,""),this.$set(this.coords[e],i,+n.value)},updatePrevValue:function(t){var e=t.target;this.prevValue=e.value},updateValue:function(){var t=Object.entries(this.coords),e=t.filter((function(e,n){var i=Object(r["a"])(e,2),o=i[1],a=o.x,s=o.y;return t.some((function(t,e){var i=Object(r["a"])(t,2),o=i[1],c=o.x,u=o.y;return a===c&&s===u&&n!==e}))}));if(e.length)return this.isDoubleCoords=!0,this.doubleCoords=e.map((function(t){var e=Object(r["a"])(t,1),n=e[0];return n})),!1;this.prevValue=null,this.$emit("create-disjoint",this.contertValue(this.coords))},deteleValue:function(t){this.$delete(this.coords,t)},deleteField:function(){this.coords={}},contertValue:function(t){return Object.entries(t).reduce((function(t,e){var n=Object(r["a"])(e,2),i=n[0],o=n[1],a=o.x,c=o.y;return t.length||(t=[]),t.push(Object(s["a"])({},i,[a,c])),t}),[])},closeWarinig:function(){this.isDoubleCoords=this.isLimitValue=!1}},watch:{points:{immediate:!0,handler:function(t){this.coords=t.reduce((function(t,e){var n=Object.entries(e),i=Object(r["a"])(n,1),o=Object(r["a"])(i[0],2),a=o[0],s=Object(r["a"])(o[1],2),c=s[0],u=s[1];return t[a]={x:c,y:u},t}),{})}},isDoubleCoords:function(){this.warning="Координаты ".concat(this.doubleCoords.join(", ")," дублируются!")},isLimitValue:function(){this.warning="Установлен лимит - 3 символа!"}}},M=$,T=(n("263c"),Object(f["a"])(M,x,O,!1,null,null,null)),D=T.exports,E={name:"App",components:{cPoint:h,cSegment:j,cInterface:D},data:function(){return{coords:[],scale:0}},computed:{styleChart:function(){return{width:"".concat(.1*this.scale,"rem"),height:"".concat(.1*this.scale,"rem")}},maxPoint:function(){var t=this.coords.map((function(t){return Object.values(t).flat()})).flat();return Math.max.apply(Math,Object(c["a"])(t))},points:function(){return this.coords.reduce((function(t,e){var n=Object.entries(e).flat(),i=Object(r["a"])(n,2),o=i[0],a=Object(r["a"])(i[1],2),s=a[0],c=a[1];return t.push({x:s,y:c,keyPoint:o}),t}),[])},segments:function(){if(!(this.coords.length<2)){for(var t=this.coords.length>2?this.coords.length-1:1,e=[],n=0;n<t;n++){var i=this.coords.slice(n,n+2),o=i.map((function(t){var e=Object.values(t).flat(),n=Object(r["a"])(e,2),i=n[0],o=n[1];return{x:i,y:o}})),a=Object(r["a"])(o,2),s=a[0],c=a[1];e.push(void 0===c?[s,s]:o)}return e}}},methods:{createDisjoint:function(t){this.coords=Object.entries(t).map((function(t){var e=Object(r["a"])(t,2),n=e[1];return{point:+Object.keys(n)[0],points:Object.values(n).flat()}})).sort((function(t,e){var n=Object(r["a"])(t.points,2),i=n[0],o=n[1],a=Object(r["a"])(e.points,2),s=a[0],c=a[1];return i-s||o-c})).reduce((function(t,e){var n=e.point,i=e.points;return t.push(Object(s["a"])({},n,i)),t}),[])},convertPoints:function(t){return Object.entries(t).map((function(t){var e=Object(r["a"])(t,2),n=e[0],i=e[1];return Object(s["a"])({},n,i.split(";").map((function(t){return+t})))}))}},created:function(){var t=this;setTimeout((function(){t.coords=t.convertPoints(n("52e7"))}),500)},mounted:function(){this.scale=document.body.offsetHeight-200}},N=E,L=(n("e33e"),Object(f["a"])(N,o,a,!1,null,null,null)),I=L.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(I)}}).$mount("#app")},"610e":function(t,e,n){},6496:function(t,e,n){"use strict";n("cc8d")},c76f:function(t,e,n){"use strict";n("3e87")},cc8d:function(t,e,n){},daaf:function(t,e,n){"use strict";n("e2cb")},e2cb:function(t,e,n){},e33e:function(t,e,n){"use strict";n("610e")}});
//# sourceMappingURL=app.71fb1e57.js.map